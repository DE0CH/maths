## Introduction

At first glance I thought the function was so weird and irregular that it could not possibly be measurable. But I was having a lot of trouble proving that such a function doesn't exist. After hours of futile work, I searched Google for answer. I found Conway's base 13 function. I read that it is Borel measurable but I struggled to find a precise and rigorous proof. 

For example, the proof stating that its support is measurable proves it by saying the support can be defined using natural number quantifier. Since existential quantifier quantifiers corresponds to countable union and universal quantifier corresponds to countable intersection. This makes sense but is a bit vague. Another proof asserts that because the construction is concrete and constructing a non-Borel measurable set without the axiom of choice is impossible. That sounds plausible but is not very precise.

Then there is the problem of proving that its zeros is Borel measurable (I forgot that the complement of a Borel set is Borel at the time). The answer I found involve some Baire class stuff. Again, it sounds plausible but not very precise. Also, since we didn't learn about Baire class and I don't entirely understand it.

So after some thinking, I decided to define another function that makes proving it be measurable a bit easier and more precise.

The main idea is instead of directly mapping from $\mathbb{R}$ to $\mathbb{R}$, we map (0, 1) to (0, 1) by using only base 11, and compose two continuous functions on both ends to turn it to a $\mathbb{R}$ to \mathbb{R}$ function.

## Proof

Now we define $f: (0, 1) \rightarrow (0, 1)$ in the following way. 

For any number in (0, 1), write it in base 11, for example $0.1123455A4213...$. If the representation only has a finite number of A, map it to the decimal number with the digits after the last A. For example, map $0.12345A2394A9585...$ to $0.9585...$ (in base 10). If there is an infinite number of A, map it to $0.5$.

Now define $g: \mathbb{R} \rightarrow (0, 1)$ to be the logistic function. This function is a homemophism from $(0, 1)$ to $\mathbb{R}$: it is continuous, bijective, and its inverse is also continuous. 

Now let $h = g^{-1} \circ f \circ g$.

Lemma 1. Equip (0, 1) with the standard topology and the corresponding Borel set. To see if $h$ is Borel measurable, it is sufficient to check if the preimage of $(a, 1)$ under $f$ is a Borel set for all $a \in (0, 1)$. 

Proof. $(0, 1)$ is homeomorphic to $\mathbb{R}$ with $g$ being the homemorphism. Since $\{(a, \infty) | a \in \mathbb{R}\}$ generates the Borel set is $\mathbb{R}$, the same sets mapped by the homemophism to $(0, 1)$ also generate the Borel set in $(0, 1)$. Since composition of functions measurable with respect to the given $\sigma-\text{algebra}$ is measurable, $h$ is measurable if $f$ if measurable ($g$ and $g^{-1}$ are continuous so automatically Borel measurable).

Lemma 2. To check if $f$ is Borel measureable, it is sufficient to check the preimage of $(a, 1)$ under $f$ is a Borel set for $a \in (0, 1)$ such that $a$ only has a finite number of digits in decimal representation.

Proof. We want to show that $(a, 1)$ for all $a \in (0, 1)$ is in the Borel set generated by the sets above. For any real number $r$, the sequence $(r_n)_n$, where $r_n$ is $r$ truncated after $n$ decimal digits, is a sequence convergent to $r$ with each term less than $r$. This give us $\cup_{n} (r_n, 1) = [r, 1)$, and then we can get $(a, 1)$ (last tutorial sheet). 

Lemma 3. $\{h(x) \in \mathbb{R}\; |\;  a \leq x \leq b\} = \mathbb{R}$, for all $a \lt b$. 

Proof. First, for any given $a \le b$, let $(a', b') = g((a, b))$. Pick $c \in (a', b')$ such that its expansion in base 11 ends after a finite number of digits, and an $\epsilon = \frac{1}{11^n}$ for some natural number $n$ such that $(c, c + \epsilon) \in (a', b')$. This is obviously possible. If the number of digits in $c$ is less than $n$, then we append $A$ to the expansion, otherwise we append $A$ after appending an appropriate number of $0$ so that the number of digits is no less than $n+1$. Let's call this number $d$, and has $m$ number of digits. $f((d, d + \frac{1}{m})) = (0, 1)$ and $(d, d + \frac{1}{m}) \subset (c, c + \epsilon) \subset (a', b')$.

Lemma 4. $f$ is a Borel measurable function.

Proof. Consider the preimage of (a, 1) under $f$ where $a \in (0, 1)$ and has a finite number of digits in its decimal representation. If $a \lt 0.5$, it is a bit more complicated so we'll ignore that for now. So let's assume $a \geq 0.5$, and take care of the other case later.

Let $C_{n,k}$, for $n \in \{0, 1, 2, 3, ...\}$ and $0 \leq k \lt 11^{n}$ denote the set $(\frac{k}{11^n} + \frac{10}{11^{n+1}}, \frac{k}{11^n} + \frac{11}{11^{n+1}})$. In other words, $C_{n,k}$ is the set of numbers where there is an A after $n$ digits that equal to digits in $k$.

Now we are ready to state the preimage of $(a, 1)$. Since $a$ only has finite number of digits, we know that any number in preimage can and can only be written as 0. followed by some arbitrary but finite number of digits before the last digit of $A$, then followed by the digits in $a$ in decimal representation and then follow by digits consisting only of ${0, 1, ..., 9}$. To show the set is a Borel set, first let the number before the last $A$ be given, and write it as to $\frac{k}{11^m}$ for some $0 \leq k \lt 11^m$ and $m \in \{0, 1, 2, ...\}$. This set is equal to $(\frac{k}{11^m} + \frac{10}{11^{m+1}} + \frac{a'}{11^{m+1}}, \frac{k}{11^m} + \frac{11}{11^{m+1}}) \setminus \cup_{n \geq m + 2} C_{n,k}$, where $a'$ is $a$ with the same digits but interpreted in base 11. Let's call this set $D_{m,k}$. This is an open interval minus a Borel set, so it is a Borel set. Now the preimage of $(a, 1)$ is $\cup_{m \in \{0, 1, 2, ...\}, 0 \leq k \lt 11^m} D_{m, k}$. which is a countable union of Borel set. 

A similar reasoning can be used to show that the preimage of $(a, 0.5)$ for $a \lt 0.5$ is a Borel set. After that, we can easily see that the preimage of {0.5} is also a Borel set because it is the complement of a Borel set. Now we readily see that the preimage of $(a, 1)$ under $f$ is a Borel set for all $a \in (0, 1)$.
